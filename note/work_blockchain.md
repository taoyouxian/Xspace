"基于区块链的电子病例"的demo，主要考虑通过加解密和区块链技术，既能保障病人隐私，又想着区块链的技术应用于电子病历这一领域

```
区块链医疗是区块链非要重要的一个应用点，利用区块链不可篡改，可追溯等来保存和追溯病例等。做论文的话，或者选择宏观地提一种整体解决方案，分析这套解决方案的优点等，但这个最好能和业界有具体合作，否则缺乏说服力。另外一种，就是要选择很具体的技术点，解决一个不大的，但又很具体的问题。我相信里面应该会有技术点，但是什么我没有调研过，也并不清楚。

 北京现在个别医院也开始了共享电子病历，主要是通过医院和医生授权。
```

```
	就是论文需要思考一下，共享+隐私本身就是一个难点，用的是fabric，可以说fabric作为区块链平台，很好地提供了共享的机制。fabric又是联盟链，需要授权才能够加入到链里面，也一定程度上保护隐私，当然还有加密等传统的信息安全方法。
```



```
	Fabric在往链里写block的时候，都需要经过一个背书机制，就是会有一些背书节点来模拟执行提交的transaction，背书节点会为这个transaction生成一个readset（执行前链上的数据）和writeset（执行后将对链上数据的修改）。等真正轮到将这个transaction的结果写入链时候，会去对所有背书节点生成的readset做验证，看是否valid，如果所有的readset都valid，则将writeset记录的结果写入链，如果invalid，则抛弃此次transaction，不对链做操作。invalid的情况可能有：在背书节点读取了链上的数据后，和这个transaction相关的数据发生变化了，此时readset就变得invalid了，就不能将writeset写入链。
	这里的transaction是指要执行的任务。
	
	假设我实现addRecord和getRecord方法
	是系统自己保证的机制，addRecord不用考虑之前的数据是否插入成果。但是，要知道如果readset验证没通过，链上是不会写入数据的。
	在笔记本上，fabric从提交transaction，到写入block一般需要3秒的时候
```

- fabric执行的流程

  [Fabric 1.0 交易完整生命周期](http://blog.csdn.net/lengconglin/article/details/76862258)

  1、Client端创建交易提案（chaincode函数和参数）并发送到Endorse Peer(背书节点）。 
   2、Endorse Peer节点执行chaincode,基于读取和写入的Key生成读写操作集。 
   3、Endorse Peer节点向客户端返回提案结果(包含读写操作集） 
   4、Client端把交易提交到Order服务，交易内容包含来自提案结果的读写操作集。 
   5、Order服务将拍完序的交易封装到区块中去。 
   6、区块将被发送给Commit Peer节点。 
   7、Commit Peer节点执行如下操作： 
   （1）运行验证逻辑（VSCC检查背书策略，MVCC检查读操作的版本自仿真交易以来未在数据库中被修改。 
   （2）在区块中指明哪些交易是有效和无效的。 
   （3）在内存或文件系统上把区块加入区块链，并且将区块内的有效交易写入状态数据库。 
   （4）出发Event消息，使得客户端通过SDK监听知道哪些交易是有效的或无效的。

  下图是完整生命周期示意图：

  

  下图是完整交易流示意图： 

  